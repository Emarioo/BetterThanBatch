@TEST_CASE(16_byte_alignment)

fn check(n: i32 = 0) {
    _test 0; cast<u64>&n & cast<u64>0x0F
}

check()
n: i32
check()


if(true) {
    
} else {
    return; // caused problems at one point
}
check()

#import "Math"

random64(); // BCryptGenRandom crashes without 16-byte alignment

// This caused issues were we put arg on the stack since
// sys V abi passes args in registers, but we forgot to
// remove arg from stack causing a crash.
fn @unixcall fun(arg: void*) {
    arg
}
fun(null)


fn @oscall func(a0: i32, a1:i32,a2: i32,a3: i32,a4: i32,a5: i32,a6: i32) -> i32 {
    return a0 + a1 + a2 + a3 + a4 + a5 + a6;
}

fn main() -> i32 {
    return func(1,2,3,4,5,6,7);
}